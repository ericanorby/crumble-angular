<div class="recipe-show">
  <div class="recipe-pic" style="background-image: url({{vm.recipe.photo_url}})"></div>
  <div class="recipe-info">
    <h1>{{vm.recipe.name}}</h1>
    <hr/>
    <h2>Submitted by: {{vm.recipe.author}}</h2>
    <h3>Source: <a href="{{vm.recipe.source}}" target="_blank">{{vm.recipe.source}}</a></h3>
    <ul>
      <li>
        <i class="fa fa-spoon fa-3x" aria-hidden="true"></i>
        <div><span>{{vm.recipe.servings}}</span><br/>Servings</div>
      </li>
      <li>
        <i class="fa fa-usd fa-3x" aria-hidden="true"></i>
        <div><span>{{vm.totalCost}}</span><br/>Total Cost</div>
      </li>
      <li>
        <i class="fa fa-info-circle fa-3x" aria-hidden="true"></i>
        <div><span>{{vm.recipe.cal_per_serving}}</span><br/>Cal/Serving</div>
      </li>
      <li>
        <i class="fa fa-usd fa-3x" aria-hidden="true"></i>
        <div><span>{{vm.costPerServing}}</span><br/>Cost/Serving</div>
      </li>
    </ul>
  </div>
</div>

<div class="recipe-details">
  <div class="ingredients-container">
    <h2>Ingredients</h2>
    <div class="ingredients" ng-repeat="ingredient in vm.ingredients">
      + <a ui-sref="IngredientShow({recipe_id: vm.recipe.id, id: ingredient.id})"> {{ingredient.name}} </a>, {{ingredient.amount}} {{ingredient.measurement}}
    </div>
    <button ng-click="vm.toggleForm = !vm.toggleForm">Add New</button>
    <form ng-show="vm.toggleForm" ng-submit="vm.create()">
      <input type="text" ng-model="vm.newIngredient.name" placeholder="name" required />
      <input type="text" ng-model="vm.newIngredient.amount" placeholder="amount" required />
      <input type="text" ng-model="vm.newIngredient.measurement" placeholder="measurement" required />
      <input type="number" ng-model="vm.newIngredient.calories" placeholder="calories" required />
      <button type="submit">Add</button>
    </form>
  </div>

  <div class="directions">
    <h2>Directions</h2>
    <p style="white-space: pre-line">{{vm.recipe.directions}}</p>
  </div>
</div>
